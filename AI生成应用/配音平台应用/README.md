# 配音工具 - 文本转语音应用

一个功能完整、界面美观的在线配音工具，基于Web Speech API实现文本到语音的转换，支持多种语音选择和参数调节。

## 功能特点

### 基础功能
1. **文本编辑**：支持文本输入、清空、插入示例文本
2. **格式控制**：支持粗体、斜体、下划线格式设置
3. **停顿插入**：可在文本中插入停顿标记，控制语音节奏
4. **语音选择**：自动加载并显示浏览器支持的所有语音，按语言分组
5. **参数调节**：支持语速、音调、音量的精细调节
6. **情感风格**：提供默认、高兴、悲伤、严肃四种预设情感风格
7. **AI智能断句**：根据文本内容自动调整语音语调和停顿
8. **音频播放**：支持生成语音的播放、暂停、停止控制
9. **音频下载**：可将生成的语音下载为WAV格式文件
10. **波形可视化**：实时显示音频波形，提供直观反馈
11. **进度控制**：支持音频播放进度条拖动和时间显示

### 高级功能
1. **语音测试工具**：独立的语音测试页面，帮助用户检测和选择合适的语音
2. **错误处理**：完善的错误处理机制，提供友好的用户提示
3. **响应式设计**：适配桌面和移动设备的界面布局
4. **性能优化**：使用Canvas绘制波形，确保流畅的动画效果
5. **状态管理**：清晰的UI状态反馈，包括加载中、播放中等状态指示

## 技术实现

### 核心技术
- **Web Speech API**：使用SpeechSynthesis接口实现文本到语音的转换
- **MediaRecorder API**：捕获语音合成输出，实现音频下载功能
- **Canvas API**：绘制实时音频波形可视化效果
- **Tailwind CSS**：构建现代化、响应式的用户界面
- **Font Awesome**：提供丰富的图标支持

### 关键特性
- **纯前端实现**：所有功能在浏览器端完成，无需后端服务器
- **跨浏览器兼容**：支持Chrome、Edge、Safari等现代浏览器
- **无依赖**：除Tailwind CSS和Font Awesome外，无其他外部依赖
- **模块化设计**：代码结构清晰，便于维护和扩展

## 使用说明

### 基本操作流程
1. 在文本编辑区输入或粘贴需要转换的文本
2. 从语音下拉菜单中选择合适的语音
3. 调整语速、音调、音量等参数，或选择预设的情感风格
4. 点击"生成语音"按钮开始语音合成
5. 使用播放控制按钮试听生成的语音
6. 点击下载按钮将语音保存为文件

### 高级使用技巧
1. **插入停顿**：点击"插入停顿"按钮可在光标位置插入停顿标记
2. **格式设置**：先选中文本，再点击格式按钮可应用格式设置
3. **情感风格**：点击情感风格按钮可快速应用预设的语速和音调组合
4. **智能断句**：开启"AI智能断句"开关，系统会根据文本内容自动优化语音表达
5. **语音测试**：点击右下角的"语音测试"按钮，可进入语音测试页面，详细了解各语音的特点

### 语音选择与测试
- 首次加载时，系统会自动尝试加载浏览器支持的所有语音
- 如果语音加载失败，可点击"刷新"按钮手动重新加载
- 对于语音选择有困难的用户，可使用语音测试工具进行详细测试

## 浏览器兼容性

### 支持的浏览器
- **Chrome**：完全支持所有功能
- **Edge**：完全支持所有功能
- **Safari**：支持基本功能，部分高级功能可能有限制
- **Firefox**：部分功能支持，取决于浏览器版本

### 浏览器要求
- 支持Web Speech API的现代浏览器
- 支持MediaRecorder API（用于音频下载功能）
- 支持Canvas API（用于波形可视化）

## 项目结构

```
voice-over-tool/
├── index.html          # 主应用页面
├── test-voices.html    # 语音测试工具页面
└── README.md           # 项目说明文档
```

## 开发说明

### 核心文件说明
- **index.html**：主应用页面，包含所有功能的实现
- **test-voices.html**：语音测试工具页面，用于检测和测试可用语音

### 主要功能模块
1. **语音加载模块**：负责检测和加载浏览器支持的语音
2. **文本处理模块**：处理文本输入、格式化和停顿标记
3. **语音合成模块**：使用Web Speech API生成语音
4. **音频捕获模块**：使用MediaRecorder API捕获和保存音频
5. **可视化模块**：使用Canvas绘制音频波形
6. **UI控制模块**：处理用户界面交互和状态更新

### 扩展建议
1. 添加更多情感风格预设
2. 实现文本分段合成和批量处理
3. 支持更多音频格式的导出
4. 添加语音效果处理（如混响、均衡器等）
5. 实现本地存储，保存用户偏好设置

## 注意事项

1. 语音合成质量取决于浏览器和操作系统支持的语音质量
2. 音频下载功能在某些浏览器中可能受到限制
3. 长时间的文本合成可能会消耗较多系统资源
4. 建议使用最新版本的浏览器以获得最佳体验
